<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Architecture | Griddle</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5em georgia,serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:georgia,serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.618rem;line-height:2.25rem;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.33471rem;line-height:2.25rem;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.21225rem;line-height:1.5rem;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.5rem;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.90825rem;line-height:1.5rem;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.86558rem;line-height:1.5rem;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}ul{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:0.85rem;line-height:1.42;background:hsla(0,0%,0%,0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.5rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1rem;line-height:1.5rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}blockquote{margin-left:1.5rem;margin-right:1.5rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.5rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}li > ul{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5rem / 2);}code{font-size:0.85rem;line-height:1.5rem;}kbd{font-size:0.85rem;line-height:1.5rem;}samp{font-size:0.85rem;line-height:1.5rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:tnum;-moz-font-feature-settings:tnum;-ms-font-feature-settings:tnum;-webkit-font-feature-settings:tnum;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:calc(0.75rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}tt,code{background-color:hsla(0,0%,0%,0.04);border-radius:3px;font-family:Consolas,"Roboto Mono","Droid Sans Mono","Liberation Mono",Menlo,Courier,monospace;padding:0;padding-top:0.2em;padding-bottom:0.2em;}pre code{background:none;line-height:1.42;}code:before,code:after,tt:before,tt:after{letter-spacing:-0.2em;content:" ";}pre code:before,pre code:after,pre tt:before,pre tt:after{content:"";}</style><style>body,button,select{font-family:arial,sans-serif}button,select{display:inline-block;font-size:18px;margin:0 5px;padding:0 5px;color:#649;background:transparent;border:1px solid #649;height:32px}h1,h2,h3,h4,h5,h6{color:#512d9b}h1.banner{margin:10px 0 40px}button:hover,select:hover{cursor:pointer}button:focus{outline:none}select{padding-top:2px}a.styled{display:inline-block;margin-top:10px;margin-bottom:10px;text-decoration:none;font-size:20px}a:hover{text-decoration:underline}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media only screen and (min-width:700px){.breakpoint-min-width-700{display:block}.breakpoint-max-width-700{display:none}}@media only screen and (max-width:700px){.breakpoint-min-width-700{display:none}.breakpoint-max-width-700{display:block}}</style><style>
                  a {
                    color: rgb(81,45,168);
                  }
                  .ball-0 {
                    background-image: url(/Griddle/docs/some-react-code/0.jpg);
                  }
                  .ball-1 {
                    background-image: url(/Griddle/docs/some-react-code/1.jpg);
                  }
                  .ball-2 {
                    background-image: url(/Griddle/docs/some-react-code/2.jpg);
                  }
                  .ball-3 {
                    background-image: url(/Griddle/docs/some-react-code/3.jpg);
                  }
                  .ball-4 {
                    background-image: url(/Griddle/docs/some-react-code/4.jpg);
                  }
                  .ball-5 {
                    background-image: url(/Griddle/docs/some-react-code/5.jpg);
                  }
                </style></head><body><div id="react-mount"><div data-reactroot="" data-reactid="1" data-react-checksum="-1761338374"><div style="background:rgb(81,45,168);color:rgb(207,197,231);margin-bottom:2.25rem;" data-reactid="2"><div style="max-width:960px;margin-left:auto;margin-right:auto;padding-left:1.125rem;" data-reactid="3"><div style="padding:1.125rem 0;" data-reactid="4"><div style="float:left;margin-left:0%;margin-right:1.694915254237288%;width:32.20338983050847%;clear:none;height:64px;" data-reactid="5"><a style="text-decoration:none;color:rgb(207,197,231);font-size:1.59375rem;" href="/Griddle/" data-reactid="6"><img src="Griddle/griddle.png" alt="Griddle" data-reactid="7"/></a><span style="display:block;clear:both;" data-reactid="8"> </span></div><div style="float:right;margin-left:0%;margin-right:0%;width:66.10169491525423%;clear:none;" data-reactid="9"><a style="float:right;color:rgb(207,197,231);text-decoration:none;margin-left:0.75rem;" href="https://github.com/griddlegriddle/griddle" data-reactid="10">Github</a><a style="background:rgb(81,45,168);color:rgb(194,185,221);float:right;text-decoration:none;padding-left:0.75rem;padding-right:0.75rem;padding-bottom:1.125rem;margin-bottom:-1.5rem;padding-top:1.5rem;margin-top:-1.5rem;" href="/Griddle/docs/" data-reactid="11">Documentation</a><div style="position:relative;" data-reactid="12"><iframe src="https://ghbtns.com/github-btn.html?user=griddlegriddle&amp;repo=griddle&amp;type=star&amp;count=true" scrolling="0" width="100px" height="30px" style="margin:0;border:0;position:absolute;right:-10px;top:35px;opacity:0.4;" data-reactid="13"></iframe></div><span style="display:block;clear:both;" data-reactid="14"> </span></div><span style="display:block;clear:both;" data-reactid="15"> </span></div><span style="display:block;clear:both;" data-reactid="16"> </span></div></div><div style="max-width:960px;margin-left:auto;margin-right:auto;padding:1.5rem 1.125rem;padding-top:0;" data-reactid="17"><div data-reactid="18"><div class="breakpoint-min-width-700" data-reactid="19"><div style="overflow-y:auto;padding-right:calc(0.75rem - 1px);position:absolute;width:calc(12rem - 1px);border-right:1px solid lightgrey;" data-reactid="20"><span data-reactid="21"><h2 data-reactid="22">Documentation</h2><ul style="list-style:none;margin-left:0;margin-top:0.75rem;" data-reactid="23"><li style="margin-bottom:0.75rem;" data-reactid="24"><a style="text-decoration:none;" href="/Griddle/docs/" data-reactid="25">Getting started</a></li><li style="margin-bottom:0.75rem;" data-reactid="26"><a style="text-decoration:none;" href="/Griddle/docs/architecture/" data-reactid="27"><strong data-reactid="28">Architecture</strong></a></li><li style="margin-bottom:0.75rem;" data-reactid="29"><a style="text-decoration:none;" href="/Griddle/docs/customization/" data-reactid="30">Customization</a></li><li style="margin-bottom:0.75rem;" data-reactid="31"><a style="text-decoration:none;" href="/Griddle/docs/styles/" data-reactid="32">Styles</a></li><li style="margin-bottom:0.75rem;" data-reactid="33"><a style="text-decoration:none;" href="/Griddle/docs/plugins/" data-reactid="34">Plugins</a></li><li style="margin-bottom:0.75rem;" data-reactid="35"><a style="text-decoration:none;" href="/Griddle/docs/api/" data-reactid="36">API</a></li></ul></span><span data-reactid="37"><h2 data-reactid="38">Examples</h2><ul style="list-style:none;margin-left:0;margin-top:0.75rem;" data-reactid="39"><li style="margin-bottom:0.75rem;" data-reactid="40"><a style="text-decoration:none;" href="/Griddle/examples/controlling-griddle/" data-reactid="41">Externally Controlled Griddle</a></li><li style="margin-bottom:0.75rem;" data-reactid="42"><a style="text-decoration:none;" href="/Griddle/examples/asList/" data-reactid="43">As a list of &quot;cards&quot;</a></li><li style="margin-bottom:0.75rem;" data-reactid="44"><a style="text-decoration:none;" href="/Griddle/examples/asMap/" data-reactid="45">As a map</a></li><li style="margin-bottom:0.75rem;" data-reactid="46"><a style="text-decoration:none;" href="/Griddle/examples/defaultSort/" data-reactid="47">With a default sort</a></li><li style="margin-bottom:0.75rem;" data-reactid="48"><a style="text-decoration:none;" href="/Griddle/examples/nestedData/" data-reactid="49">Nested data</a></li></ul></span></div><div style="padding:0 1.5rem;padding-left:calc(12rem + 1.5rem);" data-reactid="50"><div class="markdown" data-reactid="51"><h1 data-reactid="52">Architecture</h1><div data-reactid="53"><p>Griddle exists as a component that is structured similar to many React applications. While Griddle uses Redux, it’s
self-contained and does not dictate the structure of the containing application. The following diagram represents the
high-level Griddle architecture.</p>
<p><img src="high-level.png" alt="High-level architecture"></p>
<h3>Components</h3>
<p>Griddle is arranged into a series of container and view components. Container components connect to the store, setup logic, and wire up actions to
the view components as props. No logic should live in the view components – these components should be pure components made up
entirely of their props. For more discussion on this mindset <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.ebou9i9rf">read this post by Dan Abramov</a>.</p>
<p><img src="componentArchitecture.png" alt="Component Architecture"></p>
<p>The components are deeply nested but only a minimal amount of props are passed from the top down. Most of the data is obtained through
the container components connection to the Redux store and passed to the view components as props.</p>
<h3>reducers</h3>
<p>Reducers in Griddle are methods that work against an immutable state object. A standard reducer method should look like:</p>
<p><code>export const SOME_CONSTANT_NAME(state, action, helpers) { return state; }</code></p>
<p>Where <code>state</code> is the immutable state object, <code>action</code> is the action object created by an action creator, and <code>helpers</code> is an object consisting of the combined helper
methods.</p>
<h5>Reducer data flow</h5>
<p>When Griddle is initialized, it takes an array of reducers to combine/compose into one reducer. Reducer methods will
override other reducer methods with the same name depending on the reducer’s location in the array. The following diagram represents what would happen if
we had two reducers called dataReducer and localReducer that were passed in to griddleReducer like <code>['data-reducer', 'local-reducer']</code>.</p>
<p><img src="reducerCombining.png" alt="Reducer combining diagram"></p>
<p>Since the methods have the same name,<code>GRIDDLE_LOADED_DATA</code> from local-reducer will be the method that gets used when the action with that name is dispatched.</p>
<h5>pre/post hooks</h5>
<p>Often it is not ideal to override a method in the context of a plugin and instead the desired outcome would be to wrap or compose an original reducer method as a
series of reducer methods. To that end, Griddle uses a concept of pre/post hooks.</p>
<p><strong>AFTER method</strong></p>
<p>Append “_AFTER” to any reducer method name to perform an additional reduce operation on the state object</p>
<p>For example, say we define our reducer plugin array as
<code>[data-reducer, local-reducer, subgrid-reducer, selection-reducer]</code>. If subgrid-reducer and selection-reducer both have a method GRIDDLE_LOADED_DATA_AFTER,
the operation flow for GRIDDLE_LOADED_DATA will look a little like the following:</p>
<ol>
<li>The <code>GRIDDLE_LOADED_DATA</code> method will reduce the state object</li>
<li><code>GRIDDLE_LOADED_DATA_AFTER</code> in subgrid-reducer will return a new (immutable) state object based on the state object it received</li>
<li><code>GRIDDLE_LOADED_DATA_AFTER</code> in selection-reducer will return a new state object which will be the resultant state object for the dispatch</li>
</ol>
<p><img src="afterReducer.png" alt="AFTER_REDUCER Diagram"></p>
<p><strong>BEFORE method</strong></p>
<p>Append _BEFORE to any reducer method name to modify the state object passed to the default reducer method. Like _AFTER, these methods are composed if there are
other plugins that contain the same method name.</p>
<p><img src="beforeReducer.png" alt="BEFORE_REDUCER Diagram"></p>
<p><strong>AFTER_REDUCE</strong></p>
<p>If there is an operation that should run directly before returning the final state object for <strong>any</strong> reducer method, it should occur in a AFTER_REDUCE method.
AFTER_REDUCE methods are composed similarly to the BEFORE / AFTER methods above.
<img src="afterReduce.png" alt="AFTER_REDUCE Diagram"></p>
<p><strong>BEFORE_REDUCE</strong></p>
<p>If there is an operation that should run before <strong>any</strong> reducer method, it should occur in a BEFORE_REDUCE method.
BEFORE_REDUCE methods are composed similarly to the BEFORE / AFTER methods above.</p>
<p><img src="beforeReduce.png" alt="BEFORE_REDUCE Diagram"></p>
<h2>Selectors</h2>
<p>Griddle uses <a href="https://github.com/reactjs/reselect">reselect</a> and selectors to obtain parts of data from the store state. Selectors
allow for some performance benefit but also make the code a little easier to follow. The container components will use
individual selectors to obtain the data that they need.</p>
<h2>Pluggable Architecture</h2>
<p>This architecture allows overriding any part of this system while keeping everything else intact. For example, a plugin could
have a series of its own container components and selectors and the view components and reducers would work with out any modification.
In fact, this is exactly what we are doing with Griddle for the local data plugin (the plugin that says you want to maintain all your
data locally in the browser). <a href="/Griddle/docs/plugins">See more about this in the plugins section</a></p>
</div></div></div></div><div class="breakpoint-max-width-700" data-reactid="54"><strong data-reactid="55">Topics:</strong><!-- react-text: 56 --> <!-- /react-text --><select data-reactid="57"><option value="/Griddle/docs/" data-reactid="58">Getting started</option><option selected="" value="/Griddle/docs/architecture/" data-reactid="59">Architecture</option><option value="/Griddle/docs/customization/" data-reactid="60">Customization</option><option value="/Griddle/docs/styles/" data-reactid="61">Styles</option><option value="/Griddle/docs/plugins/" data-reactid="62">Plugins</option><option value="/Griddle/docs/api/" data-reactid="63">API</option></select><br data-reactid="64"/><br data-reactid="65"/><div class="markdown" data-reactid="66"><h1 data-reactid="67">Architecture</h1><div data-reactid="68"><p>Griddle exists as a component that is structured similar to many React applications. While Griddle uses Redux, it’s
self-contained and does not dictate the structure of the containing application. The following diagram represents the
high-level Griddle architecture.</p>
<p><img src="high-level.png" alt="High-level architecture"></p>
<h3>Components</h3>
<p>Griddle is arranged into a series of container and view components. Container components connect to the store, setup logic, and wire up actions to
the view components as props. No logic should live in the view components – these components should be pure components made up
entirely of their props. For more discussion on this mindset <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.ebou9i9rf">read this post by Dan Abramov</a>.</p>
<p><img src="componentArchitecture.png" alt="Component Architecture"></p>
<p>The components are deeply nested but only a minimal amount of props are passed from the top down. Most of the data is obtained through
the container components connection to the Redux store and passed to the view components as props.</p>
<h3>reducers</h3>
<p>Reducers in Griddle are methods that work against an immutable state object. A standard reducer method should look like:</p>
<p><code>export const SOME_CONSTANT_NAME(state, action, helpers) { return state; }</code></p>
<p>Where <code>state</code> is the immutable state object, <code>action</code> is the action object created by an action creator, and <code>helpers</code> is an object consisting of the combined helper
methods.</p>
<h5>Reducer data flow</h5>
<p>When Griddle is initialized, it takes an array of reducers to combine/compose into one reducer. Reducer methods will
override other reducer methods with the same name depending on the reducer’s location in the array. The following diagram represents what would happen if
we had two reducers called dataReducer and localReducer that were passed in to griddleReducer like <code>['data-reducer', 'local-reducer']</code>.</p>
<p><img src="reducerCombining.png" alt="Reducer combining diagram"></p>
<p>Since the methods have the same name,<code>GRIDDLE_LOADED_DATA</code> from local-reducer will be the method that gets used when the action with that name is dispatched.</p>
<h5>pre/post hooks</h5>
<p>Often it is not ideal to override a method in the context of a plugin and instead the desired outcome would be to wrap or compose an original reducer method as a
series of reducer methods. To that end, Griddle uses a concept of pre/post hooks.</p>
<p><strong>AFTER method</strong></p>
<p>Append “_AFTER” to any reducer method name to perform an additional reduce operation on the state object</p>
<p>For example, say we define our reducer plugin array as
<code>[data-reducer, local-reducer, subgrid-reducer, selection-reducer]</code>. If subgrid-reducer and selection-reducer both have a method GRIDDLE_LOADED_DATA_AFTER,
the operation flow for GRIDDLE_LOADED_DATA will look a little like the following:</p>
<ol>
<li>The <code>GRIDDLE_LOADED_DATA</code> method will reduce the state object</li>
<li><code>GRIDDLE_LOADED_DATA_AFTER</code> in subgrid-reducer will return a new (immutable) state object based on the state object it received</li>
<li><code>GRIDDLE_LOADED_DATA_AFTER</code> in selection-reducer will return a new state object which will be the resultant state object for the dispatch</li>
</ol>
<p><img src="afterReducer.png" alt="AFTER_REDUCER Diagram"></p>
<p><strong>BEFORE method</strong></p>
<p>Append _BEFORE to any reducer method name to modify the state object passed to the default reducer method. Like _AFTER, these methods are composed if there are
other plugins that contain the same method name.</p>
<p><img src="beforeReducer.png" alt="BEFORE_REDUCER Diagram"></p>
<p><strong>AFTER_REDUCE</strong></p>
<p>If there is an operation that should run directly before returning the final state object for <strong>any</strong> reducer method, it should occur in a AFTER_REDUCE method.
AFTER_REDUCE methods are composed similarly to the BEFORE / AFTER methods above.
<img src="afterReduce.png" alt="AFTER_REDUCE Diagram"></p>
<p><strong>BEFORE_REDUCE</strong></p>
<p>If there is an operation that should run before <strong>any</strong> reducer method, it should occur in a BEFORE_REDUCE method.
BEFORE_REDUCE methods are composed similarly to the BEFORE / AFTER methods above.</p>
<p><img src="beforeReduce.png" alt="BEFORE_REDUCE Diagram"></p>
<h2>Selectors</h2>
<p>Griddle uses <a href="https://github.com/reactjs/reselect">reselect</a> and selectors to obtain parts of data from the store state. Selectors
allow for some performance benefit but also make the code a little easier to follow. The container components will use
individual selectors to obtain the data that they need.</p>
<h2>Pluggable Architecture</h2>
<p>This architecture allows overriding any part of this system while keeping everything else intact. For example, a plugin could
have a series of its own container components and selectors and the view components and reducers would work with out any modification.
In fact, this is exactly what we are doing with Griddle for the local data plugin (the plugin that says you want to maintain all your
data locally in the browser). <a href="/Griddle/docs/plugins">See more about this in the plugins section</a></p>
</div></div></div></div><span style="display:block;clear:both;" data-reactid="69"> </span></div></div></div><script src="/Griddle/bundle.js?t=1487555070171"></script></body></html>